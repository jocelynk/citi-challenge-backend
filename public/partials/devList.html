<!-- DevList -->

<section class="success" id="about">
    <div class="container-fluid">

        <div class="row">
            <!--ng-repeat="device in devices"-->
            <div class="col-sm-6 " id="steps">

                <div id='slimey'>
                    <div id='leye' class='eye'></div>
                    <div id='reye' class='eye'></div>
                    <div id='lips'></div>
                </div>

                <script>
                    var lips = document.getElementById('lips');

                    function changeSmile(slider) {
                        console.log(slider.value)
                        var lh = lips.style.height, slide = 0;
                        if ((50 - slider.value) > 0) {
                            slide = (50 - slider.value);
                            lips.style.borderTop = "2px black solid";
                            lips.style.borderBottom = "none";
                        }
                        else {
                            slide = (slider.value - 50);
                            lips.style.borderBottom = "2px black solid";
                            lips.style.borderTop = "none";
                        }
                        lips.style.top = "calc(70% + " + (-slide) * 0.2 + "px";
                    }
                </script>

                <style>
                    #leye {
                        left: 25%;
                    }

                    #reye {
                        right: 25%;
                    }

                    .eye {
                        position: absolute;
                        background: black;
                        border-radius: 100%;
                        height: 15px;
                        width: 15px;
                        top: 20px;
                    }

                    #slimey {
                        margin: auto;
                        background: Yellow;
                        border-radius: 100%;
                        height: 100px;
                        width: 100px;
                        position: relative;
                    }

                    #lips {
                        width: 50px;
                        height: 20px;
                        position: absolute;
                        top: calc(70% - 10px);
                        left: calc(50% - 25px);
                        background: transparent;
                        border-top: 2px black solid;
                        -webkit-transform: rotateX(0deg);
                        border-radius: 100%;
                        transform: rotateX(0deg);
                    }

                    #smileSlide {
                        width: 100px;
                        position: absolute;
                        left: calc(50% - 50px);
                    }
                </style>

                <input id="smileSlide" type="range" onchange="changeSmile(this)" value="0"/>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 " id="devices">

                <h2>Phone <i class="fa fa-tablet"></i> <i class="fa  fa-fw fa-cogs"> </i></h2>

                <h2>Beacon <i class="fa fa-ticket"></i> <i class="fa fa-fw fa-cogs"></i></h2>

                <!--<h2>Step 3 <i class="fa fa-map-marker"></i> <i class="fa fa-fw fa-cogs"></i></h2>-->

                <!--<h2>step 4 <i class="fa fa-wifi"></i> <i class="fa fa-fw fa-cogs"></i></h2>-->

                <!--<h2>step 5 <i class="fa fa-apple"></i> <i class="fa fa-fw fa-cogs"></i></h2>-->
            </div>
            <div class="col-sm-6">
                <h6 id="event">confidence score: {{score}}</h6>

                <div id="success" style="display: none">
                    <h2>"Successfully signed in"</h2>

                    <h3>"2 out of 2 devices authenticated "</h3>
                </div>
                <div id="fail" style="display: none" ng-show="score > 1000">
                    <h2>"Successfully Authenticated"</h2>

                    <h3>"2 out of 2 steps passed :)"</h3>
                    <!--<h5>Having trouble? ... request for an One time password, to your email <i class="fa fa-cc"></i></h5>-->
                </div>
            </div>
        </div>

    </div>
</section>

<!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
<div class="scroll-top page-scroll visible-xs visible-sm">
    <a class="btn btn-primary" href="#page-top">
        <i class="fa fa-chevron-up"></i>
    </a>
</div>

<!-- Portfolio Modals -->

<!-- jQuery -->
<script src="js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script src="js/classie.js"></script>
<script src="js/cbpAnimatedHeader.js"></script>

<!-- Contact Form JavaScript -->
<script src="js/jqBootstrapValidation.js"></script>
<script src="js/contact_me.js"></script>

<!-- Custom Theme JavaScript -->
<script src="js/freelancer.js"></script>


<script type="text/javascript">
    function getQueryStringParams(sParam) {
        var sPageURL = window.location.search.substring(1);
        var sURLVariables = sPageURL.split('&');
        for (var i = 0; i < sURLVariables.length; i++) {
            var sParameterName = sURLVariables[i].split('=');
            if (sParameterName[0] == sParam) {
                return sParameterName[1];
            }
        }
    }
    var m = 2
    //int n= n out m
    function authCheck(n, m) {
        m = m || 2
        var steps = $("#steps");
        rows = steps.children()
        var x = []
        rows.each(function (i) {
            x[i] = $(this)
            setTimeout(function () {
                if (n > m / 2) {
                    if (i != 1 && i <= n) {
                        x[i].find('.fa-fw').removeClass('fa-cogs')
                        x[i].find('.fa-fw').addClass('fa-check-square')
                    } else {
                        x[i].find('.fa-fw').removeClass('fa-cogs')
                        x[i].find('.fa-fw').addClass('fa-remove')
                        x[i].find('.fa-fw').addClass('fa-check-square')
                    }
                } else {
                    if (i < n) {
                        x[i].find('.fa-fw').removeClass('fa-cogs')
                        x[i].find('.fa-fw').addClass('fa-check-square')
                    } else {
                        x[i].find('.fa-fw').removeClass('fa-cogs')
                        x[i].find('.fa-fw').addClass('fa-remove')
                        x[i].find('.fa-fw').addClass('fa-check-square')
                    }
                }
            }, 1000 * i)
        })
        return n > m / 2
    }
    function success() {
        setTimeout(function () {
            n = getQueryStringParams('n')
            if (n > m / 2) {
                $('#success').show();
            } else {
                $('#fail').show();
            }
        }, 2000)
    }
    $(authCheck(getQueryStringParams('n')))
    $(success())
</script>